<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../src/pages.css" />
    <title>Soca Valley</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link
      rel="stylesheet"
      href="/Users/katiekennedy/Documents/A-Travel App/src/pages.css"
    />
  </head>
  <body>
    <h1 class="location">Soca Valley</h1>
    <a href="../index.html">
      <button class="glow-on-hover" id="home">Home 🏠</button></a
    >
    <a href="https://www.skyscanner.net">
      <button class="glow-on-hover" id="flight">Book your Flight Now ✈️</button>
    </a>
    <img
      src="/Users/katiekennedy/Documents/A-Travel App/imgs/soca.jpg"
      alt="Picture of Soca Valley"
      width="100%"
      height="500px"
      id="background"
    />
    <p id="para1">
      If you want to reconnect with nature then Soca Valley is perfect for you!
      impressive waterfalls, deep gorges, high mountains, dizzying suspension
      bridges and the magnificent landscape are just a few highlights of a tour
      along the Soča River.
    </p>
    <p id="para2">
      The entire valley runs along the Emerald Road, the world-famous turquoise
      Soča River. Especially the upper part of the Soča River is ideal for
      action-packed water sports. Rafting, kayaking and canyoning are
      particularly offered in the towns of Bovec, Kobarid and Tolmin. Activities
      such as hiking in the Triglav Mountains, mountain biking and cycling are
      also popular activities all over the valley.
    </p>
    <p id="para3">
      You can visit the beautiful valley during every season. Whether spring,
      summer, autumn or winter, each season has its own treasures.
    </p>

    <div class="container">
      <small>Soca Valley Forecast</small>
      <ul>
        <li id="date"></li>
        <li id="conditions"></li>
      </ul>

      <div class="row">
        <div class="col-6">
          <img src="" alt="" id="icon" />
          <strong id="temp"></strong><span class="celcius">°C</span>
        </div>
        <div class="col-6">
          <ul>
            <li id="humidityElement">Humidity: 34%</li>
            <li id="speedElement"></li>
          </ul>
        </div>
      </div>
    </div>

    <h2>Things to do:</h2>
    <div id="container">
      <img
        class="image-img"
        src="/Users/katiekennedy/Documents/A-Travel App/imgs/soca1.jpg"
      />
      <div class="image-overlay1">
        <div class="image-title">Hiking</div>
      </div>
      <img
        class="image-img"
        src="/Users/katiekennedy/Documents/A-Travel App/imgs/soca2.jpg"
      />
      <div class="image-overlay2">
        <div class="image-title">Kayaking</div>
      </div>
      <img
        class="image-img"
        src="/Users/katiekennedy/Documents/A-Travel App/imgs/soca3.jpg"
      />
      <div class="image-overlay3">
        <div class="image-title">Cycling</div>
      </div>
    </div>
    <script>
      function formatDate(timestamp) {
        let date = new Date(timestamp);
        let hours = date.getHours();
        let minutes = date.getMinutes();
        if (minutes < 10) {
          minutes = `0${minutes}`;
        }
        let days = [
          "Sunday",
          "Monday",
          "Tuesday",
          "Wednesday",
          "Thursday",
          "Friday",
          "Saturday",
        ];
        let day = days[date.getDay()];

        return `${day} ${hours}:${minutes}`;
      }

      function displayTemperature(response) {
        document.getElementById("temp").innerHTML = Math.round(
          response.data.main.temp
        );

        document.getElementById("conditions").innerHTML =
          response.data.weather[0].description;

        let wind = Math.round(response.data.wind.speed);
        document.getElementById("speedElement").innerHTML = `Speed: ${wind}mph`;

        let humidity = response.data.main.humidity;
        document.getElementById(
          "humidityElement"
        ).innerHTML = `Humidity: ${humidity}%`;

        let dateElement = document.getElementById("date");
        dateElement.innerHTML = formatDate(response.data.dt * 1000);

        let iconElement = document.getElementById("icon");
        let iconImage = response.data.weather[0].icon;
        iconElement.setAttribute(
          "src",
          `http://openweathermap.org/img/wn/${iconImage}@2x.png`
        );

        console.log(response.data);
      }

      let apiKey = "d23a0d3530ddedd914cb8e35a010be9d";
      let city = "Tolmin";
      let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`;
      axios.get(apiUrl).then(displayTemperature);
    </script>
  </body>
</html>
